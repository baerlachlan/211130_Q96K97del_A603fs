---
title: "Enrichment Analysis"
subtitle: "211130_Q96K97del_A603fs dataset"
author: "Lachlan Baer"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    toc: true
    toc_float: true
    toc_depth: 2
    fig_width: 8
    fig_height: 6
    fig_align: "center"
    code_folding: hide
editor_options:
  chunk_output_type: console
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE,
  error = FALSE,
  fig.align = "center"
)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
```

```{r}
map2(ranks_d, ranks_d_dar, function(before, after){
  before <- enframe(before, name = "gene_id", value = "before") %>%
    mutate(rank_before = seq(1, length(gene_id), by = 1))
  after <- enframe(after, name = "gene_id", value = "after") %>%
    mutate(rank_after = seq(1, length(gene_id), by = 1))
  left_join(before, after) %>%
    ggplot(aes(rank_before, rank_after)) +
    geom_point() +
    geom_abline(slope = 1, intercept = 0, colour = "blue")
})
```

```{r}
ggsave(
  "~/phd/publications/fisher_pub/figures/supp_4.png",
  device = "png",
  width = 18,
  height = 8,
  units = "cm"
)
```

